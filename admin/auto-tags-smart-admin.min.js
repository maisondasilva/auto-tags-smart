jQuery(document).ready((function($){function toggleCategoriesContainer(){var isChecked=$("#autotasm-filter-by-category").is(":checked"),$container=$("#categories-container"),$heading=$("#included-categories"),$selectAllBtn=$(".at-select-all"),$deselectAllBtn=$(".at-deselect-all");isChecked?($container.removeClass("softened").fadeIn(),$heading.removeClass("softened"),$selectAllBtn.length?updateButtonText():$selectAllBtn.length&&($selectAllBtn.show(),$deselectAllBtn.show())):($container.addClass("softened").fadeOut(300),$heading.addClass("softened"),$selectAllBtn.length&&$selectAllBtn.hide(),$deselectAllBtn.length&&$deselectAllBtn.hide())}if($(document).off("change.autosave"),$(document).off("input.autosave"),"undefined"!=typeof wp&&wp.autosave&&wp.autosave.server.suspend(),toggleCategoriesContainer(),$("#categories-container").length){var selectAllText="undefined"!=typeof atStrings&&atStrings.selectAll?atStrings.selectAll:"Selecionar Todas",deselectAllText="undefined"!=typeof atStrings&&atStrings.deselectAll?atStrings.deselectAll:"Desmarcar Todas",$selectAllBtn=$('<button type="button" class="button button-small at-select-all">'+selectAllText+"</button>"),$deselectAllBtn=$('<button type="button" class="button button-small at-deselect-all" style="margin-left: 5px;">'+deselectAllText+"</button>");function updateButtonText(){var $checkboxes=$('#categories-container input[type="checkbox"]'),checkedCount=$checkboxes.filter(":checked").length,totalCount=$checkboxes.length;checkedCount===totalCount&&totalCount>0?($selectAllBtn.hide(),$deselectAllBtn.text(deselectAllText).show()):($selectAllBtn.text(selectAllText).show(),$deselectAllBtn.hide())}$("#included-categories").after($selectAllBtn).after($deselectAllBtn),$("#autotasm-filter-by-category").is(":checked")||($selectAllBtn.hide(),$deselectAllBtn.hide()),$selectAllBtn.on("click",(function(){$('#categories-container input[type="checkbox"]').prop("checked",!0),updateButtonText()})),$deselectAllBtn.on("click",(function(){$('#categories-container input[type="checkbox"]').prop("checked",!1),updateButtonText()})),window.updateButtonText=updateButtonText,$("#categories-container").on("change",'input[type="checkbox"]',(function(){updateButtonText()})),updateButtonText()}function showNotice(message,type,duration){duration=duration||4e3;var $notice=$('<div class="notice notice-'+(type=type||"info")+' is-dismissible"><p>'+message+"</p></div>");$(".wrap h2").after($notice),setTimeout((function(){$notice.fadeOut((function(){$(this).remove()}))}),duration)}var $tooltip;function hideTooltip(){$tooltip&&($tooltip.remove(),$tooltip=null)}function updateStatusIndicators(){var isEnabled=$("#autotasm-turn-on").is(":checked"),examineTitle=$("#autotasm-examine-post-title").is(":checked"),examineContent=$("#autotasm-examine-post-content").is(":checked"),$statusElement=$("#autotasm-status");isEnabled&&(examineTitle||examineContent)?($statusElement.removeClass("autotasm-status-inactive autotasm-status-warning").addClass("autotasm-status-active"),$statusElement.css("color","green").text(atStrings.statusActive)):!isEnabled||examineTitle||examineContent?($statusElement.removeClass("autotasm-status-active autotasm-status-warning").addClass("autotasm-status-inactive"),$statusElement.css("color","red").text(atStrings.statusInactive)):($statusElement.removeClass("autotasm-status-active autotasm-status-inactive").addClass("autotasm-status-warning"),$statusElement.css("color","orange").text(atStrings.statusActiveNothing))}$("#autotasm-minimum-tag-length").on("input change",(function(){var value=parseInt($(this).val());if(value<1)$(this).val(1),showNotice("undefined"!=typeof atStrings&&atStrings.errorMinLength?atStrings.errorMinLength:"O comprimento mínimo da tag deve ser pelo menos 1.","warning");else if(value>50){$(this).val(50),showNotice("undefined"!=typeof atStrings&&atStrings.errorMaxLength?atStrings.errorMaxLength:"O comprimento mínimo da tag não pode ser maior que 50.","warning")}})),$(".at-info-icon").on("mouseenter",(function(){var helpText=$(this).data("help");helpText&&function($element,text){hideTooltip(),$tooltip=$('<div class="at-tooltip">'+text+"</div>"),$("body").append($tooltip);var offset=$element.offset();$tooltip.css({position:"absolute",top:offset.top-$tooltip.outerHeight()-5,left:offset.left+$element.outerWidth()/2-$tooltip.outerWidth()/2,background:"#333",color:"#fff",padding:"5px 10px",borderRadius:"3px",fontSize:"12px",zIndex:9999,whiteSpace:"nowrap"})}($(this),helpText)})).on("mouseleave",(function(){hideTooltip()})),$("form").on("submit",(function(e){var examineTitle=$("#autotasm-examine-post-title").is(":checked"),examineContent=$("#autotasm-examine-post-content").is(":checked"),isEnabled=$("#autotasm-turn-on").is(":checked");if(isEnabled&&!examineTitle&&!examineContent)return e.preventDefault(),showNotice("undefined"!=typeof atStrings&&atStrings.errorExamineOption?atStrings.errorExamineOption:'Você deve selecionar pelo menos uma opção: "Examinar título" ou "Examinar conteúdo".',"error"),!1;var filterByCategory=$("#autotasm-filter-by-category").is(":checked"),hasSelectedCategories=$('#categories-container input[type="checkbox"]:checked').length>0;return isEnabled&&filterByCategory&&!hasSelectedCategories?(e.preventDefault(),showNotice("undefined"!=typeof atStrings&&atStrings.errorCategoryFilter?atStrings.errorCategoryFilter:"Se você ativar o filtro por categoria, deve selecionar pelo menos uma categoria.","error"),!1):void 0})),updateStatusIndicators(),$("input, select, textarea").off("change.wp-auto-save input.wp-auto-save"),$(document).off("change","input, select, textarea"),$("#autotasm-turn-on, #autotasm-examine-post-title, #autotasm-examine-post-content").on("change",(function(){updateStatusIndicators(),setTimeout(updateStatusIndicators,10)})),$("#autotasm-filter-by-category").on("change",(function(){toggleCategoriesContainer()})),$('a[href^="#"]').on("click",(function(e){e.preventDefault();var target=$($(this).attr("href"));target.length&&$("html, body").animate({scrollTop:target.offset().top-50},500)})),$("#autotasm-clean-uninstall").on("change",(function(){if($(this).is(":checked")){var confirmMsg="undefined"!=typeof atStrings&&atStrings.confirmCleanUninstall?atStrings.confirmCleanUninstall:"Tem certeza? Esta opção removerá TODAS as configurações do plugin quando ele for desinstalado.";confirm(confirmMsg)||$(this).prop("checked",!1)}})),"undefined"!=typeof console&&window.location.href.indexOf("debug=1")>-1&&(console.log("Auto Tags Smart Admin JS loaded successfully"),$("input, select, textarea").on("change",(function(){console.log("Setting changed:",$(this).attr("name"),"=",$(this).val())})))}));